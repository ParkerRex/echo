WEBVTT

00:00:00.017 --> 00:00:03.837
Hey, I'm Parker X. I led tech for a startup that sold for $23 million.

00:00:04.297 --> 00:00:07.897
After that, tried a couple different startups and went all in on programming.

00:00:08.237 --> 00:00:12.497
Then GPT came out, went all in on AI, using it every day for the last three

00:00:12.497 --> 00:00:17.437
years to learn how to leverage it in code and marketing and business in general.

00:00:17.897 --> 00:00:20.777
And so I want to talk about rules, cursor rules.

00:00:21.477 --> 00:00:24.277
So I'd seen this video a little while back from this guy, Eli.

00:00:25.017 --> 00:00:29.617
And I want to show you how to implement it because he had some good points.

00:00:29.617 --> 00:00:32.597
And he also runs this inbox thing

00:00:32.597 --> 00:00:35.337
so first of all use taskmaster of

00:00:35.337 --> 00:00:38.077
course but what we're doing now is i'm building out

00:00:38.077 --> 00:00:41.617
the site for our education slash

00:00:41.617 --> 00:00:44.817
community company called i vibe with ai that's what this thing

00:00:44.817 --> 00:00:50.337
is in the picture below me and i'm getting ready to wrap it up but there's a

00:00:50.337 --> 00:00:54.997
bunch of stuff that taskmaster did that is done it works but it can be optimized

00:00:54.997 --> 00:01:02.757
so i want to make some of the rules as a piece of educational content so cursor

00:01:02.757 --> 00:01:03.557
rules if you're not familiar.

00:01:04.257 --> 00:01:07.657
They determine how cursor will act based

00:01:07.657 --> 00:01:10.977
on the request that it's sending so earlier days

00:01:10.977 --> 00:01:13.797
it kind of would run rampant but then you have patterns that you like

00:01:13.797 --> 00:01:16.597
so you want those patterns to be done so first off

00:01:16.597 --> 00:01:19.917
if you're using super base then you can do a command it's

00:01:19.917 --> 00:01:22.877
a shout cn command it'll add in the best

00:01:22.877 --> 00:01:25.997
practices from them so that's pretty cool so that's

00:01:25.997 --> 00:01:30.397
one tip i would do is supabase official cursor rules

00:01:30.397 --> 00:01:33.657
type that in you can go to the cursor directory too and do

00:01:33.657 --> 00:01:37.217
it but in here you'll see the folder structure as

00:01:37.217 --> 00:01:43.737
for db functions migrations rls policies sql style guide and edge functions

00:01:43.737 --> 00:01:48.517
and you can just grab this and run it and it'll post it into your project so

00:01:48.517 --> 00:01:52.017
i have that right you want to have ones that are specific if they're official

00:01:52.017 --> 00:01:54.617
that's better and they update them pretty often.

00:01:55.157 --> 00:01:58.897
So you can follow a couple of the guys on Twitter to keep up with it.

00:01:59.037 --> 00:02:02.037
But in this case, we're going to make our own rules. So I have.

00:02:02.883 --> 00:02:06.143
A bunch of these patterns in

00:02:06.143 --> 00:02:09.343
my app for fetching right so

00:02:09.343 --> 00:02:12.543
i always lay it out where i have my

00:02:12.543 --> 00:02:15.383
app and this is just one app right it's just next

00:02:15.383 --> 00:02:18.163
js but for bigger stuff i would do the same thing i

00:02:18.163 --> 00:02:21.723
just use turbo repo and then nest them so i i wanted to have a react router

00:02:21.723 --> 00:02:27.383
app or vt app or astra for marketing or python server for agents whatever they'd

00:02:27.383 --> 00:02:31.003
all be nested in there but same structure and then in the monorevo world you'd

00:02:31.003 --> 00:02:35.223
have super basis package but that's a different case so what i do in these ones

00:02:35.223 --> 00:02:36.863
is i just have super basis separate,

00:02:37.403 --> 00:02:40.143
and then i have edge functions in here which is

00:02:40.143 --> 00:02:45.283
dino and then i have migrations in here queries in here i usually break them

00:02:45.283 --> 00:02:51.963
out by the bucket and then i'll have mutations as well so let's see i need to

00:02:51.963 --> 00:02:57.343
make sure we have mutations for the queries do we have mutations yeah we don't

00:02:57.343 --> 00:02:59.083
have mutations so let's add one for mutations.

00:03:01.343 --> 00:03:07.023
Cool mutations are things that change right so a mutation is not a read it's a write,

00:03:08.063 --> 00:03:13.383
so instead of get prompt it'd be create prompt then I typically name them in

00:03:13.383 --> 00:03:18.943
kebab case which is this lower case stuff so that's a rule but what we're doing

00:03:18.943 --> 00:03:22.543
is we're gonna plus up the existing method,

00:03:23.203 --> 00:03:25.543
that we have here this existing query.

00:03:26.463 --> 00:03:29.283
And because they're really small, it makes it a lot easier to work with.

00:03:30.063 --> 00:03:36.363
But what we already did was we said, hey, we need to update this to user singleton in blank.

00:03:36.603 --> 00:03:40.683
So singleton, if you're not familiar, is under clients. I have all these different clients.

00:03:40.963 --> 00:03:47.643
And this one is the one place that we're making a connection with Supubase.

00:03:47.903 --> 00:03:52.903
So that way, if this one works, then anything that needs to make a call to Superbase

00:03:52.903 --> 00:03:58.083
will go through this on a server on it and through this on a client component.

00:03:59.223 --> 00:04:04.843
So what I want to do is before it was using just the Superbase client and that's

00:04:04.843 --> 00:04:08.883
because Taskmaster did the job but it didn't follow practice that I want.

00:04:09.083 --> 00:04:11.543
So we're going to make a rule around it. First we're going to make it better,

00:04:12.023 --> 00:04:15.503
right? So we've done one thing. We said use best practices.

00:04:16.343 --> 00:04:19.803
Okay. Didn't really do much there but it did what we wanted.

00:04:20.063 --> 00:04:22.543
And then it refactored it. It just swapped these things out.

00:04:22.663 --> 00:04:28.543
But next I'm going to say, okay, because I want a rule that will have the best

00:04:28.543 --> 00:04:31.803
practices across the project, I want to further improve this.

00:04:31.923 --> 00:04:36.623
So this pattern of, hey, we should have a global logger.ts that we can have

00:04:36.623 --> 00:04:40.163
in our project that has different levels that can be set in our .env.

00:04:40.563 --> 00:04:47.583
Then we can update the get prompts.ts to use it.

00:04:49.146 --> 00:04:54.566
And what this will do is just that, where I'm going to actually grab where I want it.

00:04:54.726 --> 00:04:57.486
So I'm going to put this inside of here, probably.

00:04:58.006 --> 00:05:01.746
Let's actually make, this is a really small project, and I'm going to release

00:05:01.746 --> 00:05:03.866
it later today. It'll have all the freebies in it.

00:05:04.306 --> 00:05:08.366
But I'm going to put it inside of utils. So I'm going to grab this and copy relative path.

00:05:08.846 --> 00:05:14.986
And I'm going to do a global logger inside, boom,

00:05:16.706 --> 00:05:26.426
that has different levels that can be set in our env do I want it be set there to determine the mode.

00:05:29.046 --> 00:05:34.906
Then we can update that to use it okay cool let's see what this does it should

00:05:34.906 --> 00:05:39.746
go create the file and then I'll have info it'll have a standard for it yeah

00:05:39.746 --> 00:05:44.106
debug info warning error so this is a determined thing this is just a standard

00:05:44.106 --> 00:05:48.446
practice but it's really nice not only for you when you're manually debugging but for,

00:05:49.966 --> 00:05:53.126
LLMs as well. So we can see it didn't get that right.

00:05:53.746 --> 00:05:58.286
Cool, now it got it right. Alright, so we like that. This is good.

00:05:58.786 --> 00:06:02.886
This way now, not only are we using the singleton, but we're also using the

00:06:02.886 --> 00:06:06.966
types and we're also using this new logger. Great.

00:06:07.406 --> 00:06:13.566
If you're not familiar, this is the best way to do it with your types for Sububase.

00:06:13.786 --> 00:06:16.786
So that way, when you're trying to call something in your database,

00:06:17.546 --> 00:06:25.226
it will give you the auto suggestions and your tab button will thank you because

00:06:25.226 --> 00:06:26.286
it'll know what's going on.

00:06:27.126 --> 00:06:31.826
So now that we have that we like it and we want to make this into a rule for

00:06:31.826 --> 00:06:36.646
data fetching for queries because it has the stuff that we like.

00:06:36.826 --> 00:06:38.126
I'm going to ask one last time.

00:06:38.326 --> 00:06:45.226
Is there anything we could do to improve the reliability of.

00:06:49.266 --> 00:06:53.266
Slash dryness of get prompts.

00:06:56.106 --> 00:06:58.946
So I really want to make this one awesome because we're going to make a rule

00:06:58.946 --> 00:07:01.806
around it. So let's see what it does.

00:07:06.806 --> 00:07:12.926
It's reviewing it. It says it does logging. It does the singleton.

00:07:14.266 --> 00:07:18.726
Potential improvements. generic query helper. Well, if you anticipate having

00:07:18.726 --> 00:07:20.566
this, let's see what it's thinking of.

00:07:22.746 --> 00:07:29.026
Yeah, I mean, this is just another extraction, which I don't think is great.

00:07:29.366 --> 00:07:35.146
So I'm going to keep this because I don't think that we need another file.

00:07:35.326 --> 00:07:36.426
I want to make sure it didn't create it.

00:07:39.190 --> 00:07:42.830
That is dino cool it didn't create that so now that we have one that we like

00:07:42.830 --> 00:07:48.410
let's go ahead and make a rule out of it so let's see how does this look the

00:07:48.410 --> 00:07:53.490
unexpected nes are okay but let's see.

00:07:55.550 --> 00:08:01.750
I use biome as well highly recommend that so i'm going to do biome ignore cool

00:08:01.750 --> 00:08:09.490
and let's add those just because strict formatting and linting is key.

00:08:10.510 --> 00:08:13.890
And I say that as I let any's in, but because this is a generic utility,

00:08:13.910 --> 00:08:16.270
I'm fine with it. So now we're going to create a rule.

00:08:16.930 --> 00:08:19.130
And I already have cursor rules in here.

00:08:19.870 --> 00:08:22.750
So this is from Taskmaster. If you want to learn about that,

00:08:22.850 --> 00:08:25.430
you can look on my channel. It's the last video.

00:08:26.530 --> 00:08:31.610
But let's do a little bit of formatting in here first. First,

00:08:31.850 --> 00:08:35.710
I want to make sure that the rule creator is as good as it could be.

00:08:36.090 --> 00:08:41.890
So let's see if we can't find his example. I believe it's in here.

00:08:42.010 --> 00:08:50.290
Yeah, so you always see this at the top, where at the top of rules, you have fence.

00:08:50.730 --> 00:08:51.770
That's what these things are.

00:08:52.430 --> 00:08:55.950
If you've written Astro, you know what that is. Or like Markdown Files.

00:08:56.810 --> 00:09:01.010
But it'll have a description. It'll have the globs. Globs is the selector of

00:09:01.010 --> 00:09:03.210
where in the code base should this be applied.

00:09:03.410 --> 00:09:06.870
So if you have rules that are specific to just one folder, then that's what that means.

00:09:07.170 --> 00:09:13.110
And then always apply is, will this apply for everything or conditional, if you call it.

00:09:14.010 --> 00:09:20.450
So looking at this, I like this naming convention. So I want to grab that.

00:09:20.970 --> 00:09:23.850
Let's see naming. Do we have anything about naming? We don't have anything about

00:09:23.850 --> 00:09:28.730
naming. So let's go ahead and main points in bold.

00:09:29.390 --> 00:09:32.870
Follow the naming convention. Let's make that actually...

00:09:36.301 --> 00:09:39.601
What's this doing? That's Markdown. Let's put this here.

00:09:40.481 --> 00:09:45.281
And let's, if you guys don't have this plugin for previewing Markdown,

00:09:45.481 --> 00:09:47.241
you should, oh, this is not Markdown.

00:09:47.801 --> 00:09:51.101
MDC, so I can't preview it. Interesting. Let's go ahead and we're going to take

00:09:51.101 --> 00:09:55.241
this and I'm going to just open up a cursor, or sorry, a chat GPT.

00:09:55.441 --> 00:09:56.541
And then I'm going to attach this.

00:09:56.801 --> 00:10:04.461
And I'm going to say, we need to improve the formatting of this .mdc file.

00:10:05.221 --> 00:10:07.941
And for some reason it's saying inactive so let's try to

00:10:07.941 --> 00:10:10.681
do that again add click there

00:10:10.681 --> 00:10:13.561
no doesn't want to do it let's paste

00:10:13.561 --> 00:10:17.181
that in there we're going to get a nice formatted one we're going to use four

00:10:17.181 --> 00:10:24.801
many high fc4 many boom just to make sure because we have bolded ones that's

00:10:24.801 --> 00:10:33.381
the stock template for using what's it called for using taskmaster and then

00:10:33.381 --> 00:10:36.121
we have some of the ones from his, so I want to kind of mix the two.

00:10:37.881 --> 00:10:45.601
Example, incorrect example. No, I want... Give me the entire updated version.

00:10:49.681 --> 00:10:51.881
If that's not going to work, then I could have just done this manually.

00:10:52.301 --> 00:10:53.841
So let me take the numbers out.

00:10:59.441 --> 00:11:00.381
That's all good.

00:11:03.861 --> 00:11:08.841
And we'll follow, oops, follow that pattern.

00:11:12.641 --> 00:11:13.961
Always follow this.

00:11:16.581 --> 00:11:18.521
What is going on? What just happened?

00:11:22.021 --> 00:11:22.821
Oh, boy.

00:11:25.621 --> 00:11:30.321
We're having a little issue, a little technical issue with, I think ChatGPG

00:11:30.321 --> 00:11:35.301
is trying to overwrite it, which I don't love. so we're going to nuke that so I'm going to back up,

00:11:38.501 --> 00:11:40.041
what is going on.

00:11:44.241 --> 00:11:47.061
If you ever run into issues like this, you just hit reload window.

00:11:48.601 --> 00:11:50.801
Command shift P, reload. Anyways, goodbye.

00:11:51.581 --> 00:11:54.641
Cool. So now we're back. No clue what just happened there.

00:11:56.741 --> 00:12:00.121
Honestly, this should just work. I just wanted to peel those numbers out.

00:12:00.341 --> 00:12:03.401
And I'm not going to edit this because you should, if you run into this stuff,

00:12:03.601 --> 00:12:06.841
like, look, it's not perfect.

00:12:07.061 --> 00:12:10.661
Like people will run into issues. So I'd rather keep it in there so you know how to address it.

00:12:11.321 --> 00:12:18.021
But I just want to follow the convention that is using the other ones. Good.

00:12:18.981 --> 00:12:21.441
Directory structure. That looks good. That looks good. Cool.

00:12:22.181 --> 00:12:23.381
Do we have the naming thing in here?

00:12:25.201 --> 00:12:29.361
Yeah, we do. Out of space there. Okay. So now that we have that all dialed in,

00:12:29.441 --> 00:12:31.941
this is the thing that's going to make the rules, and then now we're going to use it.

00:12:32.041 --> 00:12:36.021
So let's go back, and we're going to open up a new one, and I'm going to tag

00:12:36.021 --> 00:12:39.321
that, and I'm going to say, create a rule for data fetching and loading.

00:12:41.141 --> 00:12:51.361
Yes, for data fetching that's a query using at get prompt types as the example.

00:12:52.261 --> 00:12:57.581
Cool. So when we kick this off we'll keep it in ask mode because I don't want it to mess up.

00:12:58.521 --> 00:13:01.621
And let's see it should determine that hey we should use the logger hey we should

00:13:01.621 --> 00:13:02.641
do this hey should we do that.

00:13:03.181 --> 00:13:06.721
And it will give me the output for this. So let's see.

00:13:10.081 --> 00:13:14.721
Yeah. Yeah, very cool. Client-server.

00:13:14.981 --> 00:13:18.321
We will always use client-server for that. Cool.

00:13:18.881 --> 00:13:23.301
So let's grab this, and we're going to go ahead and create a new one and then review it.

00:13:25.721 --> 00:13:32.681
So data-fetching.mdc. Cool. Let's put it in here and take a look together.

00:13:33.441 --> 00:13:36.981
Let's close that. Oops.

00:13:37.641 --> 00:13:42.501
Close that side panel. so guidelines for creating super based data fetching

00:13:42.501 --> 00:13:48.101
functions to be applied on queries yes that's smart yeah that's recalling it

00:13:48.101 --> 00:13:52.041
always apply sure do we want to always apply it,

00:13:53.561 --> 00:14:02.641
probably agent requested yeah because we want to only say hey like we're gonna make Yeah.

00:14:04.397 --> 00:14:07.797
I think always. I'm doing a lot of data fetching. So if it does involve that,

00:14:07.877 --> 00:14:09.617
then it can be passed into context.

00:14:09.877 --> 00:14:13.097
If I have issues with this, though, then I'll flip it off because it's just

00:14:13.097 --> 00:14:14.317
unnecessary token usage.

00:14:14.537 --> 00:14:18.437
But because I do a lot of data fetching, I'll keep it on and see an experiment

00:14:18.437 --> 00:14:20.337
and I'll comment below if things change.

00:14:20.597 --> 00:14:23.197
If you're having issues, it's probably because of that thing.

00:14:24.257 --> 00:14:28.857
Purpose. Standardize how it's done within server-side or dedicated query functions.

00:14:29.417 --> 00:14:34.137
I'm going to make this more generic because it's only for server-side.

00:14:34.557 --> 00:14:39.057
So then let's grab one that does client-side fetching.

00:14:39.257 --> 00:14:43.617
So let's go to, I don't know, what I'll do is I'll just be typing in client.

00:14:44.997 --> 00:14:49.157
And then that way I can see an example of its usage. So I know it's going to

00:14:49.157 --> 00:14:51.217
be in a TSX. It's probably here.

00:14:51.757 --> 00:14:56.417
And this is probably, yes. Okay, cool. So what I'm doing is because I only had

00:14:56.417 --> 00:15:00.277
an example of the server-side one, I also want to include an example of how

00:15:00.277 --> 00:15:03.557
to use it in the client-side stuff.

00:15:03.557 --> 00:15:06.917
So let's look where that's being called

00:15:06.917 --> 00:15:10.597
here create client

00:15:10.597 --> 00:15:13.837
cool we scroll down we're

00:15:13.837 --> 00:15:21.077
going to find where it's passed in and then to do that's the sign with otp where

00:15:21.077 --> 00:15:26.657
is i guess it's just using for the sign in yeah cool so we could either do that

00:15:26.657 --> 00:15:31.417
one or this one which is probably better because I think it's just doing more.

00:15:31.577 --> 00:15:34.217
Yeah, so this is getting a session. Either one of these would work.

00:15:34.637 --> 00:15:41.617
So let's update our rule to include client side fetching examples.

00:15:42.437 --> 00:15:49.817
This way we have coverage for all data fetching patterns.

00:15:51.277 --> 00:15:57.457
It uses and then I'll grab the singleton which will be in,

00:15:59.597 --> 00:16:09.057
the client.ts so I grab this boom, right here, copy relative path switching examples.

00:16:13.580 --> 00:16:18.240
This way we have coverage yeah we're all for both,

00:16:21.560 --> 00:16:24.040
server and client components,

00:16:27.280 --> 00:16:35.840
here's the singleton for client well now we'll have a very generic one but it

00:16:35.840 --> 00:16:39.340
will be awesome because anytime we're doing any sort of data fetching that it

00:16:39.340 --> 00:16:43.380
will do both doesn't seem like this is to do okay

00:16:43.580 --> 00:16:46.580
Let me stop that, and I'm going to paste in.

00:16:47.880 --> 00:16:53.240
Here's the existing rule. Sometimes I have problems with it if it's not actually committed.

00:16:54.200 --> 00:16:58.180
So let's see. Data fetching. It's because I, oh, it's because I needed to.

00:16:58.760 --> 00:17:01.600
Yeah. Boom. Continue and revert.

00:17:03.120 --> 00:17:05.160
Let that bad boy run.

00:17:06.700 --> 00:17:11.460
Add a section specifically for client. Yep. Here's the updated version.

00:17:15.640 --> 00:17:25.060
And let's see is it done turn value go update the component state cool,

00:17:25.820 --> 00:17:32.860
let's grab this review it and you guys get it that's how it works so then i

00:17:32.860 --> 00:17:36.900
would look and i'd see well i have it as always guidelines for data fetching

00:17:36.900 --> 00:17:40.460
server and client if you had issues in a larger code base, you can separate the two for sure.

00:17:41.620 --> 00:17:45.260
And I would go ahead and tweak it, right? So it knows it's a client component,

00:17:45.260 --> 00:17:47.260
it knows if it has custom hooks in it.

00:17:48.640 --> 00:17:51.440
Descriptive prefix with get. Okay.

00:17:53.469 --> 00:17:57.349
So it's covering both the, like I said, the client and the server,

00:17:57.489 --> 00:17:59.869
but then also examples within the file, which is really nice.

00:18:00.449 --> 00:18:04.889
So do import the correct one based on the context. Yeah, good job.

00:18:05.249 --> 00:18:08.129
So it'll cover all those import issues that I've mentioned in previous videos.

00:18:08.569 --> 00:18:12.629
It's doing the type stuff. I want to see if it includes the logger.

00:18:12.789 --> 00:18:15.189
Yeah, it does. Good. Good, good, good.

00:18:16.169 --> 00:18:19.689
So yeah, it worked perfectly. And then whenever I'm doing stuff in the future, I just call that.

00:18:19.689 --> 00:18:22.869
So hey we're going to do data fetching and make

00:18:22.869 --> 00:18:25.729
sure you follow the rule for this if it's set to always then it should just

00:18:25.729 --> 00:18:32.509
do it and it'll be great if you want this set of rules then drop gimme the rules

00:18:32.509 --> 00:18:36.169
below and unlike previous videos where i say here you're going to get this thing

00:18:36.169 --> 00:18:40.629
and then i don't reply you'll actually get it because the thing that we're working on in here,

00:18:41.089 --> 00:18:44.009
is where i'm hosting all of that so instead of you going to a

00:18:44.009 --> 00:18:47.869
notion link that inevitably i won't update this

00:18:47.869 --> 00:18:51.449
will be updated so you'll pop your email in optional it's

00:18:51.449 --> 00:18:54.309
anonymous sign in but giving me the email

00:18:54.309 --> 00:18:57.889
will allow me to when i make updates on

00:18:57.889 --> 00:19:00.729
both the freebies templates both paid and free stuff

00:19:00.729 --> 00:19:04.049
and then updates to the prompts because they change all

00:19:04.049 --> 00:19:07.529
the time when new models come out or i find out something great then

00:19:07.529 --> 00:19:10.609
you'll get an email with that i also

00:19:10.609 --> 00:19:13.429
have a daily channel if you want to check that out where if you want to go deeper

00:19:13.429 --> 00:19:17.509
on the stuff of like how i'm strategizing get to 100k in profit a month you

00:19:17.509 --> 00:19:20.509
can go follow that it's just my name plus the word daily of course you gotta

00:19:20.509 --> 00:19:24.129
like the video because that's your way to be awesome and put good karma in the

00:19:24.129 --> 00:19:27.849
world and subscribe so you can see future videos like this thanks so much for

00:19:27.849 --> 00:19:28.949
watching i'll see you in the next one.

