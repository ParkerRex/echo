we need to setup supabase for auth, storing user info etc. 

Heres the systems diagram: 

``` mermaid
---
config:
  layout: dagre
---
flowchart TD
 subgraph subGraph0["ðŸ–¥ï¸ Frontend (TanStack Start)"]
        A1["User Logs In\n(Supabase Auth)"]
        A2["Upload .mp4 File"]
        A3["Monitor Processing Status"]
        A4["Select Titles / Edit Content"]
        A5["Review and Publish to YouTube"]
  end
 subgraph subGraph1["ðŸ” Supabase"]
        B1["Auth (Email/OAuth)"]
        B2["Users Table (PostgreSQL)"]
        B3["Stripe Integration\n(Payments / Access)"]
  end
 subgraph subGraph2["ðŸ§  Backend (Flask App)"]
        C1["Generate Signed URL for Upload"]
        C2["Create Firestore Doc with Metadata"]
        C3["Expose API for Frontend Access"]
  end
 subgraph subGraph3["â˜ï¸ Google Cloud Platform"]
        D1["GCS Bucket\n(users/{id}/uploads/)"]
        D2["Eventarc Trigger"]
        D3["Cloud Run Processor\n(Flask)"]
        D4["Audio Extract (ffmpeg)"]
        D5["Gemini AI (via Vertex AI)"]
        D6["Generate Transcript, Titles,\nChapters, Description"]
        D7["Save to GCS\n(users/{id}/processed/)"]
        D8["Update Firestore Metadata"]
        D9["YouTube Upload via API"]
  end
    A1 --> B1
    B1 --> B2
    A2 --> C1
    C1 --> D1 & C2
    C2 --> D1
    D1 --> D2
    D2 --> D3
    D3 --> D4
    D4 --> D5
    D5 --> D6
    D6 --> D7
    D7 --> D8
    A3 --> D8
    A4 --> D8
    A5 --> D9
    B3 --> A1
```



We need to ideate on the actual sql for it basd on README.md

here's a rough idea: 

``` sql
create table public.profiles (
  id uuid primary key references auth.users(id) on delete cascade,
  full_name text,
  avatar_url text,
  role text default 'free',
  stripe_id text,
  created_at timestamp with time zone default timezone('utc', now())
);

-- Enable RLS
alter table public.profiles enable row level security;

-- Policy: user can select/update their own profile
create policy "Users can view their own profile"
  on public.profiles
  for select using (auth.uid() = id);

create policy "Users can update their own profile"
  on public.profiles
  for update using (auth.uid() = id);

  create table public.videos (
  id uuid primary key default gen_random_uuid(),
  user_id uuid references auth.users(id) on delete cascade,
  gcs_path text not null,
  status text default 'uploaded',
  title text,
  description text,
  created_at timestamp with time zone default timezone('utc', now()),
  published_at timestamp with time zone
);

-- Index for faster lookups
create index on public.videos (user_id);

-- Enable RLS
alter table public.videos enable row level security;

-- Policies: users can read and write their own videos
create policy "Users can view their own videos"
  on public.videos
  for select using (auth.uid() = user_id);

create policy "Users can insert their own videos"
  on public.videos
  for insert with check (auth.uid() = user_id);

create policy "Users can update their own videos"
  on public.videos
  for update using (auth.uid() = user_id);


  create table public.subscriptions (
  id uuid primary key default gen_random_uuid(),
  user_id uuid references auth.users(id) on delete cascade,
  stripe_sub_id text,
  status text, -- e.g., active, trialing, canceled
  tier text default 'free',
  current_period_end timestamp with time zone,
  created_at timestamp with time zone default timezone('utc', now())
);

-- Enable RLS
alter table public.subscriptions enable row level security;

-- Policies: users can view their own subscription
create policy "Users can view their own subscription"
  on public.subscriptions
  for select using (auth.uid() = user_id);

create policy "Users can update their own subscription"
  on public.subscriptions
  for update using (auth.uid() = user_id);

  ```